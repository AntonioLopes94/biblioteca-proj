CREATE TABLE livros(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
titulo VARCHAR(250) NOT NULL,
autor VARCHAR(100) NOT NULL,
genero VARCHAR(100),
status ENUM('DISPONIVEL', 'EMPRESTADO')
);

CREATE TABLE usuarios(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(100) NOT NULL,
email VARCHAR(100) UNIQUE NOT NULL,
telefone VARCHAR(50),
multa_acumulada DECIMAL(10,2) DEFAULT 0.00
);

CREATE TABLE emprestimos(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
livro_id BIGINT NOT NULL,
usuario_id BIGINT NOT NULL,
data_emprestimo DATE NOT NULL,
data_devolucao DATE,
data_devolucao_prevista DATE NOT NULL,

FOREIGN KEY (livro_id) REFERENCES livros(id) ON DELETE RESTRICT,
FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE RESTRICT
);